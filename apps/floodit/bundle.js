!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=["red","green","blue","yellow","cyan","magenta"],n=10,a=function(){function a(t){e(this,a),this.el=document.createElement("div"),this.parent=document.getElementById(t),this.gameBoard=this.initGameBoard(),this.startColor=this.gameBoard[0][0],this.steps=0;var r=document.getElementsByTagName("button"),n=!0,i=!1,o=void 0;try{for(var l,s=r[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var d=l.value;d.addEventListener("click",this.fillAreaWrapped.bind(this),!1)}}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}var f=document.getElementById("restart");f.addEventListener("click",function(){this.gameBoard=this.initGameBoard(),this.startColor=this.gameBoard[0][0],this.steps=0,this.refillBoard(),this.addStep()}.bind(this),!1)}return t(a,[{key:"getIndexByColor",value:function(e){return r.indexOf(e)}},{key:"fillAreaWrapped",value:function(e){this.oldColor=this.startColor,this.startColor=this.getIndexByColor(e.target.className),this.fillArea(0,0,this.oldColor,this.startColor),this.refillBoard(),this.addStep(),this.isWinCondition()||(document.getElementById("steps").innerHTML+=" YOU WIN!!!!")}},{key:"addStep",value:function(){document.getElementById("steps").innerHTML=++this.steps}},{key:"isWinCondition",value:function(){for(var e=0;e<n;e++)for(var t=0;t<n;t++)if(this.gameBoard[t][e]!==this.startColor)return!0;return!1}},{key:"refillBoard",value:function(){for(var e=0;e<n;e++)for(var t=0;t<n;t++){var a=document.querySelectorAll('[data-position="'+t+"_"+e+'"]');a[0]&&(a[0].className=r[this.gameBoard[t][e]])}}},{key:"fillArea",value:function(e,t,r,a){if(t<0||t>n-1)return!1;if(e<0||e>n-1)return!1;var i=this.gameBoard[t][e];return i!=a&&(i===r&&(this.gameBoard[t][e]=a,this.fillArea(e+1,t,r,a),this.fillArea(e-1,t,r,a),this.fillArea(e,t+1,r,a),void this.fillArea(e,t-1,r,a)))}},{key:"initGameBoard",value:function(){for(var e=[],t=0;t<n;t++){for(var a=[],i=0;i<n;i++)a.push(this.setRandomColorIndex(r));e.push(a)}return e}},{key:"setRandomColorIndex",value:function(e){return Math.floor(Math.random()*e.length)}},{key:"getColorByIndex",value:function(e){return r[e]}},{key:"renderTable",value:function(){for(var e=document.createElement("table"),t=0;t<n;t++){for(var r=document.createElement("tr"),a=0;a<n;a++){var i=document.createElement("td");i.className=this.getColorByIndex(this.gameBoard[a][t]),i.setAttribute("data-position",a+"_"+t),r.appendChild(i)}e.appendChild(r)}return e}},{key:"run",value:function(){this.el.appendChild(this.renderTable()),this.parent.appendChild(this.el)}}]),a}();new a("app").run()}).call(this)}finally{}}]);